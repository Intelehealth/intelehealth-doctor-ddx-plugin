import { Component, Input, Output, EventEmitter } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "../../services/aiddx.service";
import * as i2 from "@angular/common";
import * as i3 from "@ngx-translate/core";
// import { dummyPayload, response } from '../token';
export class AillmddxComponent {
    ddxSvc;
    patientInfo;
    visit;
    existingDiagnosis = [];
    diagnosisSelected = new EventEmitter();
    isLoading = false;
    hasError = false;
    noData = false;
    insufficientData = false;
    conclusion = '';
    questions = [
        {
            title: 'Key symptoms and their characteristics',
            items: [
                'Can you describe the rash in more detail?',
                'Are there any blackheads or whiteheads?',
                'Does the rash itch or burn? Does it get worse after sweating or sun exposure?',
                'When you say the rash is transient, how long does it last before disappearing?',
                'Does it reappear in the same location?'
            ]
        },
    ];
    diagnosisList = [];
    selectedDiagnosis = [];
    constructor(ddxSvc) {
        this.ddxSvc = ddxSvc;
    }
    ngOnInit() {
        this.getAIDiagnosis();
    }
    getAIDiagnosis() {
        const payload = this.ddxSvc.getDDxPayload(this.patientInfo, this.visit);
        this.isLoading = true;
        this.ddxSvc.getAIDiagnosis(payload).subscribe({
            next: (data) => {
                if (data?.conclusion)
                    this.conclusion = data?.conclusion;
                if (data.result.length > 0) {
                    this.noData = false;
                    this.diagnosisList = data.result.map(v => ({ ...v, diagnosis: v?.diagnosis?.replace(/\s*\(.*?\)\s*/g, '') }));
                }
                else {
                    this.noData = true;
                }
            },
            error: (err) => {
                this.hasError = true;
                this.isLoading = false;
                console.log('err: ', err);
            },
            complete: () => {
                this.isLoading = false;
            }
        });
        // setTimeout(() => {
        //   if (response.result.length > 0) {
        //     this.noData = false;
        //     this.conclusion = response?.conclusion;
        //     this.diagnosisList = response.result.map(v => ({ ...v, diagnosis: v?.diagnosis?.replace(/\s*\(.*?\)\s*/g, '') }));
        //   } else {
        //     this.noData = true;
        //   }
        //   this.isLoading = false;
        // }, 3000);
    }
    onTryAgain() {
        this.getAIDiagnosis();
    }
    onAIDiagnosisChange(event) {
        if (!event) {
            this.selectedDiagnosis = [];
        }
        else if (Array.isArray(event)) {
            this.selectedDiagnosis = [...event];
        }
        else {
            const index = this.selectedDiagnosis.indexOf(event);
            if (index > -1) {
                this.selectedDiagnosis = this.selectedDiagnosis.filter(d => d !== event);
            }
            else {
                this.selectedDiagnosis = [...this.selectedDiagnosis, event];
            }
        }
        this.diagnosisSelected.emit([...this.selectedDiagnosis]);
    }
    isDiagnosisExists(diagnosis) {
        return this.existingDiagnosis.some(d => d.diagnosisName === diagnosis);
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.3.0", ngImport: i0, type: AillmddxComponent, deps: [{ token: i1.AiddxService }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.3.0", type: AillmddxComponent, selector: "app-aillmddx", inputs: { patientInfo: "patientInfo", visit: "visit", existingDiagnosis: "existingDiagnosis" }, outputs: { diagnosisSelected: "diagnosisSelected" }, ngImport: i0, template: "<ng-container *ngIf=\"!diagnosisList.length\">\n    <div class=\"d-flex justify-content-center mt-2\">\n        <div class=\"erorr-container alert text-center p-4 d-flex flex-column align-items-center\">\n            <ng-container *ngIf=\"!isLoading && (hasError || noData)\">\n                <div class=\"text-danger\">\n                    <i class=\"bi bi-exclamation-triangle-fill\"></i>\n                    <img src=\"assets/images/login/interneticon.png\" alt=\"Warning\" class=\"warning-icon mr-2\" />\n                    <span *ngIf=\"hasError\" class=\"ms-2\">An unexpected issue occurred</span>\n                    <span *ngIf=\"noData\" class=\"ms-2\">The input provided does not have enough clinical details for an AI-assistant assessment.</span>\n                </div>\n                <button *ngIf=\"!noData\" type=\"button\" class=\"try-again-btn mt-3\" (click)=\"onTryAgain()\">\n                    {{'Try again'|translate}}\n                </button>\n            </ng-container>\n\n            <button *ngIf=\"isLoading\" class=\"stats-loading\">\n                <div class=\"eins\"></div>\n                <div class=\"zwei\"></div>\n                <div class=\"drei\"></div>\n            </button>\n\n            <div *ngIf=\"isLoading\" class=\"mt-3\">\n                <i class=\"bi bi-exclamation-triangle-fill\"></i>\n                <span class=\"ms-2 loading-text\">Please wait while the results are being generated.</span>\n            </div>\n\n        </div>\n    </div>\n</ng-container>\n\n<ng-container *ngIf=\"diagnosisList.length\" class=\"mt-2\">\n    <p class=\"note-con ml-2\">\n        <span class=\"note-label\">Note:</span>\n        This information is AI generated. Please rely on your medical judgement while referring to it.\n    </p>\n    <div class=\"intel-accordion-title\">\n        <h6 class=\"mt-1 ml-2 diffrential-diagnosis\">Differential Diagnosis</h6>\n    </div>\n    <div class=\"intel-accordion-title\">\n        <p class=\"text-muted mb-3 diagnosis-list ml-2\">\n            Select the diagnosis based on your medical judgement.\n        </p>\n    </div>\n\n    <div class=\"diagnosis-container p-3\">\n        <div *ngFor=\"let diagnosis of diagnosisList\" \n             class=\"d-flex align-items-center mb-2\"\n             [class.disabled-diagnosis]=\"isDiagnosisExists(diagnosis.diagnosis)\">\n            <input type=\"checkbox\" class=\"custom-checkbox me-2\"\n                [checked]=\"selectedDiagnosis.includes(diagnosis.diagnosis)\"\n                [disabled]=\"isDiagnosisExists(diagnosis.diagnosis)\"\n                (change)=\"onAIDiagnosisChange(diagnosis.diagnosis)\">\n            <label class=\"fw-bold\" [class.text-muted]=\"isDiagnosisExists(diagnosis.diagnosis)\">\n                {{ diagnosis.diagnosis }}\n                <span class=\"text-muted ms-2\">(likely {{ diagnosis.likelihood }})</span>\n            </label>\n        </div>\n    </div>\n\n    <div class=\"rationale-container\">\n        <h5 class=\"fw-bold rationale\">Rationale</h5>\n        <div *ngFor=\"let rationale of diagnosisList; let i = index\" class=\"rationale-item p-3 mb-2\">\n            <h3 class=\"fw-bold\">\n                {{ i + 1 }}. {{ rationale.diagnosis }}\n                <span class=\"text-muted small\">(likely {{ rationale.likelihood }})</span>\n            </h3>\n            <p class=\"rationale-description\">\n                {{ rationale.rationale }}\n            </p>\n        </div>\n    </div>\n\n</ng-container>\n\n<div *ngIf=\"conclusion\" class=\"conclusion-card\">\n    <div class=\"conclusion-header\">\n        <h2>Conclusion</h2>\n    </div>\n    <div class=\"conclusion-body\">\n        <p>{{ conclusion }}</p>\n    </div>\n</div>\n\n<!-- <div>\n    <h6 class=\"fw-bold\">Further questions</h6>\n    <div *ngFor=\"let question of questions; let i = index\" class=\"rationale-item p-3 mb-3\">\n        <h6 class=\"fw-bold\">{{ i + 1 }}. {{ question.title }}</h6>\n        <ul>\n            <li *ngFor=\"let item of question.items\">{{ item }}</li>\n        </ul>\n    </div>\n</div> -->", styles: ["@charset \"UTF-8\";.try-again-btn{padding:6px 24px;background:var(--color-lightGray);border-radius:8px;border:none;outline:none;font-family:DM Sans;font-weight:700;font-size:14px;line-height:150%;color:var(--color-darkBlue)}.diffrential-diagnosis{font-weight:700;font-size:16px;line-height:24px;letter-spacing:0%}.diagnosis-list{font-weight:400;font-size:14px;line-height:21px;letter-spacing:0%}.diagnosis-container{background-color:#faf7fc;border-radius:10px;padding:15px;max-width:800px}.custom-checkbox{appearance:none;width:18px;height:18px;border:1px solid #B0ADBE;border-radius:4px;position:relative;cursor:pointer;background-color:transparent;margin-right:10px;margin-bottom:9px}.custom-checkbox:checked{background-color:#0fd197}.custom-checkbox:checked:after{content:\"\\2713\";font-size:14px;font-weight:700;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.rationale-container{background-color:#faf7fc;border-radius:10px;padding:15px;max-width:700px}.rationale-item{border-bottom:1.5px solid rgba(178,175,190,.2)}.rationale{font-weight:700;font-size:16px;line-height:24px;letter-spacing:0%}.rationale-description{font-weight:400;font-size:16px;line-height:24px;letter-spacing:0%;margin-left:13px}.stats-loading{padding:6px 24px;background:var(--color-lightGray);border-radius:8px;border:none;outline:none;font-family:DM Sans;font-weight:700;font-size:14px;line-height:150%;color:var(--color-darkBlue)}.stats-loading div{background:#0060ff;display:inline-block;height:8px;width:8px;border-radius:100%;animation:bouncedelay 1.4s infinite ease-in-out;animation-fill-mode:both}.stats-loading div.eins{animation-delay:-.32s}.stats-loading div.zwei{animation-delay:-.16s}@keyframes bouncedelay{0%,80%,to{transform:scale(0);opacity:0}40%{transform:scale(1);opacity:100}}.loading-text{font-weight:400;font-size:12px;line-height:18px;color:#7f7b92}.conclusion-card{background:#fff;border-radius:10px;margin:20px 0;box-shadow:0 1px 3px #1018281a,0 1px 2px #1018280f}.conclusion-card .conclusion-header{padding:16px 24px;border-bottom:1px solid #EAECF0}.conclusion-card .conclusion-header h2{font-size:16px;font-weight:700;line-height:24px;margin:0;color:#101828}.conclusion-card .conclusion-body{padding:24px}.conclusion-card .conclusion-body p{margin:0;font-size:14px;line-height:20px;color:#344054;font-weight:400}.note-con{background:#f8f9fa;border-radius:4px;padding:12px 16px;margin:16px 0;font-size:14px;line-height:20px;color:#212529}.note-con .note-label{font-weight:600;margin-right:4px;color:#dc3545}.disabled-diagnosis{opacity:.7;cursor:not-allowed}.disabled-diagnosis .custom-checkbox{cursor:not-allowed}.disabled-diagnosis .text-muted{opacity:.7}.warning-icon{height:50px;width:50px}.erorr-container{height:150px;background-color:#faf7fc;border-radius:10px;width:100%}\n"], dependencies: [{ kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]" }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]" }, { kind: "pipe", type: i3.TranslatePipe, name: "translate" }] });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.3.0", ngImport: i0, type: AillmddxComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-aillmddx', template: "<ng-container *ngIf=\"!diagnosisList.length\">\n    <div class=\"d-flex justify-content-center mt-2\">\n        <div class=\"erorr-container alert text-center p-4 d-flex flex-column align-items-center\">\n            <ng-container *ngIf=\"!isLoading && (hasError || noData)\">\n                <div class=\"text-danger\">\n                    <i class=\"bi bi-exclamation-triangle-fill\"></i>\n                    <img src=\"assets/images/login/interneticon.png\" alt=\"Warning\" class=\"warning-icon mr-2\" />\n                    <span *ngIf=\"hasError\" class=\"ms-2\">An unexpected issue occurred</span>\n                    <span *ngIf=\"noData\" class=\"ms-2\">The input provided does not have enough clinical details for an AI-assistant assessment.</span>\n                </div>\n                <button *ngIf=\"!noData\" type=\"button\" class=\"try-again-btn mt-3\" (click)=\"onTryAgain()\">\n                    {{'Try again'|translate}}\n                </button>\n            </ng-container>\n\n            <button *ngIf=\"isLoading\" class=\"stats-loading\">\n                <div class=\"eins\"></div>\n                <div class=\"zwei\"></div>\n                <div class=\"drei\"></div>\n            </button>\n\n            <div *ngIf=\"isLoading\" class=\"mt-3\">\n                <i class=\"bi bi-exclamation-triangle-fill\"></i>\n                <span class=\"ms-2 loading-text\">Please wait while the results are being generated.</span>\n            </div>\n\n        </div>\n    </div>\n</ng-container>\n\n<ng-container *ngIf=\"diagnosisList.length\" class=\"mt-2\">\n    <p class=\"note-con ml-2\">\n        <span class=\"note-label\">Note:</span>\n        This information is AI generated. Please rely on your medical judgement while referring to it.\n    </p>\n    <div class=\"intel-accordion-title\">\n        <h6 class=\"mt-1 ml-2 diffrential-diagnosis\">Differential Diagnosis</h6>\n    </div>\n    <div class=\"intel-accordion-title\">\n        <p class=\"text-muted mb-3 diagnosis-list ml-2\">\n            Select the diagnosis based on your medical judgement.\n        </p>\n    </div>\n\n    <div class=\"diagnosis-container p-3\">\n        <div *ngFor=\"let diagnosis of diagnosisList\" \n             class=\"d-flex align-items-center mb-2\"\n             [class.disabled-diagnosis]=\"isDiagnosisExists(diagnosis.diagnosis)\">\n            <input type=\"checkbox\" class=\"custom-checkbox me-2\"\n                [checked]=\"selectedDiagnosis.includes(diagnosis.diagnosis)\"\n                [disabled]=\"isDiagnosisExists(diagnosis.diagnosis)\"\n                (change)=\"onAIDiagnosisChange(diagnosis.diagnosis)\">\n            <label class=\"fw-bold\" [class.text-muted]=\"isDiagnosisExists(diagnosis.diagnosis)\">\n                {{ diagnosis.diagnosis }}\n                <span class=\"text-muted ms-2\">(likely {{ diagnosis.likelihood }})</span>\n            </label>\n        </div>\n    </div>\n\n    <div class=\"rationale-container\">\n        <h5 class=\"fw-bold rationale\">Rationale</h5>\n        <div *ngFor=\"let rationale of diagnosisList; let i = index\" class=\"rationale-item p-3 mb-2\">\n            <h3 class=\"fw-bold\">\n                {{ i + 1 }}. {{ rationale.diagnosis }}\n                <span class=\"text-muted small\">(likely {{ rationale.likelihood }})</span>\n            </h3>\n            <p class=\"rationale-description\">\n                {{ rationale.rationale }}\n            </p>\n        </div>\n    </div>\n\n</ng-container>\n\n<div *ngIf=\"conclusion\" class=\"conclusion-card\">\n    <div class=\"conclusion-header\">\n        <h2>Conclusion</h2>\n    </div>\n    <div class=\"conclusion-body\">\n        <p>{{ conclusion }}</p>\n    </div>\n</div>\n\n<!-- <div>\n    <h6 class=\"fw-bold\">Further questions</h6>\n    <div *ngFor=\"let question of questions; let i = index\" class=\"rationale-item p-3 mb-3\">\n        <h6 class=\"fw-bold\">{{ i + 1 }}. {{ question.title }}</h6>\n        <ul>\n            <li *ngFor=\"let item of question.items\">{{ item }}</li>\n        </ul>\n    </div>\n</div> -->", styles: ["@charset \"UTF-8\";.try-again-btn{padding:6px 24px;background:var(--color-lightGray);border-radius:8px;border:none;outline:none;font-family:DM Sans;font-weight:700;font-size:14px;line-height:150%;color:var(--color-darkBlue)}.diffrential-diagnosis{font-weight:700;font-size:16px;line-height:24px;letter-spacing:0%}.diagnosis-list{font-weight:400;font-size:14px;line-height:21px;letter-spacing:0%}.diagnosis-container{background-color:#faf7fc;border-radius:10px;padding:15px;max-width:800px}.custom-checkbox{appearance:none;width:18px;height:18px;border:1px solid #B0ADBE;border-radius:4px;position:relative;cursor:pointer;background-color:transparent;margin-right:10px;margin-bottom:9px}.custom-checkbox:checked{background-color:#0fd197}.custom-checkbox:checked:after{content:\"\\2713\";font-size:14px;font-weight:700;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.rationale-container{background-color:#faf7fc;border-radius:10px;padding:15px;max-width:700px}.rationale-item{border-bottom:1.5px solid rgba(178,175,190,.2)}.rationale{font-weight:700;font-size:16px;line-height:24px;letter-spacing:0%}.rationale-description{font-weight:400;font-size:16px;line-height:24px;letter-spacing:0%;margin-left:13px}.stats-loading{padding:6px 24px;background:var(--color-lightGray);border-radius:8px;border:none;outline:none;font-family:DM Sans;font-weight:700;font-size:14px;line-height:150%;color:var(--color-darkBlue)}.stats-loading div{background:#0060ff;display:inline-block;height:8px;width:8px;border-radius:100%;animation:bouncedelay 1.4s infinite ease-in-out;animation-fill-mode:both}.stats-loading div.eins{animation-delay:-.32s}.stats-loading div.zwei{animation-delay:-.16s}@keyframes bouncedelay{0%,80%,to{transform:scale(0);opacity:0}40%{transform:scale(1);opacity:100}}.loading-text{font-weight:400;font-size:12px;line-height:18px;color:#7f7b92}.conclusion-card{background:#fff;border-radius:10px;margin:20px 0;box-shadow:0 1px 3px #1018281a,0 1px 2px #1018280f}.conclusion-card .conclusion-header{padding:16px 24px;border-bottom:1px solid #EAECF0}.conclusion-card .conclusion-header h2{font-size:16px;font-weight:700;line-height:24px;margin:0;color:#101828}.conclusion-card .conclusion-body{padding:24px}.conclusion-card .conclusion-body p{margin:0;font-size:14px;line-height:20px;color:#344054;font-weight:400}.note-con{background:#f8f9fa;border-radius:4px;padding:12px 16px;margin:16px 0;font-size:14px;line-height:20px;color:#212529}.note-con .note-label{font-weight:600;margin-right:4px;color:#dc3545}.disabled-diagnosis{opacity:.7;cursor:not-allowed}.disabled-diagnosis .custom-checkbox{cursor:not-allowed}.disabled-diagnosis .text-muted{opacity:.7}.warning-icon{height:50px;width:50px}.erorr-container{height:150px;background-color:#faf7fc;border-radius:10px;width:100%}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.AiddxService }]; }, propDecorators: { patientInfo: [{
                type: Input
            }], visit: [{
                type: Input
            }], existingDiagnosis: [{
                type: Input
            }], diagnosisSelected: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWlsbG1kZHguY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvYWlkZHgtbGlicmFyeS9zcmMvbGliL2FpbGxtZGR4L2FpbGxtZGR4LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2FpZGR4LWxpYnJhcnkvc3JjL2xpYi9haWxsbWRkeC9haWxsbWRkeC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDOzs7OztBQUV2RSxxREFBcUQ7QUFPckQsTUFBTSxPQUFPLGlCQUFpQjtJQTBCbEI7SUF6QkQsV0FBVyxDQUFNO0lBQ2pCLEtBQUssQ0FBTTtJQUNYLGlCQUFpQixHQUFVLEVBQUUsQ0FBQztJQUM3QixpQkFBaUIsR0FBRyxJQUFJLFlBQVksRUFBWSxDQUFDO0lBQzNELFNBQVMsR0FBRyxLQUFLLENBQUM7SUFDbEIsUUFBUSxHQUFHLEtBQUssQ0FBQztJQUNqQixNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQ2YsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO0lBQ3pCLFVBQVUsR0FBVyxFQUFFLENBQUM7SUFDeEIsU0FBUyxHQUFHO1FBQ1Y7WUFDRSxLQUFLLEVBQUUsd0NBQXdDO1lBQy9DLEtBQUssRUFBRTtnQkFDTCwyQ0FBMkM7Z0JBQzNDLHlDQUF5QztnQkFDekMsK0VBQStFO2dCQUMvRSxnRkFBZ0Y7Z0JBQ2hGLHdDQUF3QzthQUN6QztTQUNGO0tBQ0YsQ0FBQztJQUNGLGFBQWEsR0FBUSxFQUFFLENBQUE7SUFDdkIsaUJBQWlCLEdBQWEsRUFBRSxDQUFDO0lBRWpDLFlBQ1UsTUFBb0I7UUFBcEIsV0FBTSxHQUFOLE1BQU0sQ0FBYztJQUMxQixDQUFDO0lBRUwsUUFBUTtRQUNOLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUN4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U0FBUyxDQUFDLENBQUM7SUFDekUsQ0FBQzt1R0E1RlUsaUJBQWlCOzJGQUFqQixpQkFBaUIseU1DVDlCLHcvSEEyRlU7OzJGRGxGRyxpQkFBaUI7a0JBTDdCLFNBQVM7K0JBQ0UsY0FBYzttR0FLZixXQUFXO3NCQUFuQixLQUFLO2dCQUNHLEtBQUs7c0JBQWIsS0FBSztnQkFDRyxpQkFBaUI7c0JBQXpCLEtBQUs7Z0JBQ0ksaUJBQWlCO3NCQUExQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFpZGR4U2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FpZGR4LnNlcnZpY2UnO1xuLy8gaW1wb3J0IHsgZHVtbXlQYXlsb2FkLCByZXNwb25zZSB9IGZyb20gJy4uL3Rva2VuJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYXBwLWFpbGxtZGR4JyxcbiAgdGVtcGxhdGVVcmw6ICcuL2FpbGxtZGR4LmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vYWlsbG1kZHguY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBBaWxsbWRkeENvbXBvbmVudCB7XG4gIEBJbnB1dCgpIHBhdGllbnRJbmZvOiBhbnk7XG4gIEBJbnB1dCgpIHZpc2l0OiBhbnk7XG4gIEBJbnB1dCgpIGV4aXN0aW5nRGlhZ25vc2lzOiBhbnlbXSA9IFtdO1xuICBAT3V0cHV0KCkgZGlhZ25vc2lzU2VsZWN0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZ1tdPigpO1xuICBpc0xvYWRpbmcgPSBmYWxzZTtcbiAgaGFzRXJyb3IgPSBmYWxzZTtcbiAgbm9EYXRhID0gZmFsc2U7XG4gIGluc3VmZmljaWVudERhdGEgPSBmYWxzZTtcbiAgY29uY2x1c2lvbjogc3RyaW5nID0gJyc7XG4gIHF1ZXN0aW9ucyA9IFtcbiAgICB7XG4gICAgICB0aXRsZTogJ0tleSBzeW1wdG9tcyBhbmQgdGhlaXIgY2hhcmFjdGVyaXN0aWNzJyxcbiAgICAgIGl0ZW1zOiBbXG4gICAgICAgICdDYW4geW91IGRlc2NyaWJlIHRoZSByYXNoIGluIG1vcmUgZGV0YWlsPycsXG4gICAgICAgICdBcmUgdGhlcmUgYW55IGJsYWNraGVhZHMgb3Igd2hpdGVoZWFkcz8nLFxuICAgICAgICAnRG9lcyB0aGUgcmFzaCBpdGNoIG9yIGJ1cm4/IERvZXMgaXQgZ2V0IHdvcnNlIGFmdGVyIHN3ZWF0aW5nIG9yIHN1biBleHBvc3VyZT8nLFxuICAgICAgICAnV2hlbiB5b3Ugc2F5IHRoZSByYXNoIGlzIHRyYW5zaWVudCwgaG93IGxvbmcgZG9lcyBpdCBsYXN0IGJlZm9yZSBkaXNhcHBlYXJpbmc/JyxcbiAgICAgICAgJ0RvZXMgaXQgcmVhcHBlYXIgaW4gdGhlIHNhbWUgbG9jYXRpb24/J1xuICAgICAgXVxuICAgIH0sXG4gIF07XG4gIGRpYWdub3Npc0xpc3Q6IGFueSA9IFtdXG4gIHNlbGVjdGVkRGlhZ25vc2lzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgZGR4U3ZjOiBBaWRkeFNlcnZpY2UsXG4gICkgeyB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5nZXRBSURpYWdub3NpcygpO1xuICB9XG5cbiAgZ2V0QUlEaWFnbm9zaXMoKSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IHRoaXMuZGR4U3ZjLmdldEREeFBheWxvYWQodGhpcy5wYXRpZW50SW5mbywgdGhpcy52aXNpdCk7XG4gICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIHRoaXMuZGR4U3ZjLmdldEFJRGlhZ25vc2lzKHBheWxvYWQpLnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgIGlmKGRhdGE/LmNvbmNsdXNpb24pIHRoaXMuY29uY2x1c2lvbiA9IGRhdGE/LmNvbmNsdXNpb247XG4gICAgICAgIGlmIChkYXRhLnJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhpcy5ub0RhdGEgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmRpYWdub3Npc0xpc3QgPSBkYXRhLnJlc3VsdC5tYXAodiA9PiAoeyAuLi52LCBkaWFnbm9zaXM6IHY/LmRpYWdub3Npcz8ucmVwbGFjZSgvXFxzKlxcKC4qP1xcKVxccyovZywgJycpIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm5vRGF0YSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogKGVycjogYW55KSA9PiB7XG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyOiAnLCBlcnIpO1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAvLyAgIGlmIChyZXNwb25zZS5yZXN1bHQubGVuZ3RoID4gMCkge1xuICAgIC8vICAgICB0aGlzLm5vRGF0YSA9IGZhbHNlO1xuICAgIC8vICAgICB0aGlzLmNvbmNsdXNpb24gPSByZXNwb25zZT8uY29uY2x1c2lvbjtcbiAgICAvLyAgICAgdGhpcy5kaWFnbm9zaXNMaXN0ID0gcmVzcG9uc2UucmVzdWx0Lm1hcCh2ID0+ICh7IC4uLnYsIGRpYWdub3Npczogdj8uZGlhZ25vc2lzPy5yZXBsYWNlKC9cXHMqXFwoLio/XFwpXFxzKi9nLCAnJykgfSkpO1xuICAgIC8vICAgfSBlbHNlIHtcbiAgICAvLyAgICAgdGhpcy5ub0RhdGEgPSB0cnVlO1xuICAgIC8vICAgfVxuICAgIC8vICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAvLyB9LCAzMDAwKTtcbiAgfVxuXG5cbiAgb25UcnlBZ2FpbigpIHtcbiAgICB0aGlzLmdldEFJRGlhZ25vc2lzKCk7XG4gIH1cblxuXG4gIG9uQUlEaWFnbm9zaXNDaGFuZ2UoZXZlbnQ6IGFueSkge1xuICAgIGlmICghZXZlbnQpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWREaWFnbm9zaXMgPSBbXTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnQpKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkRGlhZ25vc2lzID0gWy4uLmV2ZW50XTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnNlbGVjdGVkRGlhZ25vc2lzLmluZGV4T2YoZXZlbnQpO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZERpYWdub3NpcyA9IHRoaXMuc2VsZWN0ZWREaWFnbm9zaXMuZmlsdGVyKGQgPT4gZCAhPT0gZXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZERpYWdub3NpcyA9IFsuLi50aGlzLnNlbGVjdGVkRGlhZ25vc2lzLCBldmVudF07XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZGlhZ25vc2lzU2VsZWN0ZWQuZW1pdChbLi4udGhpcy5zZWxlY3RlZERpYWdub3Npc10pO1xuICB9XG5cbiAgaXNEaWFnbm9zaXNFeGlzdHMoZGlhZ25vc2lzOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5leGlzdGluZ0RpYWdub3Npcy5zb21lKGQgPT4gZC5kaWFnbm9zaXNOYW1lID09PSBkaWFnbm9zaXMpO1xuICB9XG59XG4iLCI8bmctY29udGFpbmVyICpuZ0lmPVwiIWRpYWdub3Npc0xpc3QubGVuZ3RoXCI+XG4gICAgPGRpdiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIG10LTJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImVyb3JyLWNvbnRhaW5lciBhbGVydCB0ZXh0LWNlbnRlciBwLTQgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIiFpc0xvYWRpbmcgJiYgKGhhc0Vycm9yIHx8IG5vRGF0YSlcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1kYW5nZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJiaSBiaS1leGNsYW1hdGlvbi10cmlhbmdsZS1maWxsXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9pbWFnZXMvbG9naW4vaW50ZXJuZXRpY29uLnBuZ1wiIGFsdD1cIldhcm5pbmdcIiBjbGFzcz1cIndhcm5pbmctaWNvbiBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJoYXNFcnJvclwiIGNsYXNzPVwibXMtMlwiPkFuIHVuZXhwZWN0ZWQgaXNzdWUgb2NjdXJyZWQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwibm9EYXRhXCIgY2xhc3M9XCJtcy0yXCI+VGhlIGlucHV0IHByb3ZpZGVkIGRvZXMgbm90IGhhdmUgZW5vdWdoIGNsaW5pY2FsIGRldGFpbHMgZm9yIGFuIEFJLWFzc2lzdGFudCBhc3Nlc3NtZW50Ljwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uICpuZ0lmPVwiIW5vRGF0YVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyeS1hZ2Fpbi1idG4gbXQtM1wiIChjbGljayk9XCJvblRyeUFnYWluKClcIj5cbiAgICAgICAgICAgICAgICAgICAge3snVHJ5IGFnYWluJ3x0cmFuc2xhdGV9fVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgICAgIDxidXR0b24gKm5nSWY9XCJpc0xvYWRpbmdcIiBjbGFzcz1cInN0YXRzLWxvYWRpbmdcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZWluc1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ6d2VpXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyZWlcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiaXNMb2FkaW5nXCIgY2xhc3M9XCJtdC0zXCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJiaSBiaS1leGNsYW1hdGlvbi10cmlhbmdsZS1maWxsXCI+PC9pPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibXMtMiBsb2FkaW5nLXRleHRcIj5QbGVhc2Ugd2FpdCB3aGlsZSB0aGUgcmVzdWx0cyBhcmUgYmVpbmcgZ2VuZXJhdGVkLjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9uZy1jb250YWluZXI+XG5cbjxuZy1jb250YWluZXIgKm5nSWY9XCJkaWFnbm9zaXNMaXN0Lmxlbmd0aFwiIGNsYXNzPVwibXQtMlwiPlxuICAgIDxwIGNsYXNzPVwibm90ZS1jb24gbWwtMlwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cIm5vdGUtbGFiZWxcIj5Ob3RlOjwvc3Bhbj5cbiAgICAgICAgVGhpcyBpbmZvcm1hdGlvbiBpcyBBSSBnZW5lcmF0ZWQuIFBsZWFzZSByZWx5IG9uIHlvdXIgbWVkaWNhbCBqdWRnZW1lbnQgd2hpbGUgcmVmZXJyaW5nIHRvIGl0LlxuICAgIDwvcD5cbiAgICA8ZGl2IGNsYXNzPVwiaW50ZWwtYWNjb3JkaW9uLXRpdGxlXCI+XG4gICAgICAgIDxoNiBjbGFzcz1cIm10LTEgbWwtMiBkaWZmcmVudGlhbC1kaWFnbm9zaXNcIj5EaWZmZXJlbnRpYWwgRGlhZ25vc2lzPC9oNj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiaW50ZWwtYWNjb3JkaW9uLXRpdGxlXCI+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1tdXRlZCBtYi0zIGRpYWdub3Npcy1saXN0IG1sLTJcIj5cbiAgICAgICAgICAgIFNlbGVjdCB0aGUgZGlhZ25vc2lzIGJhc2VkIG9uIHlvdXIgbWVkaWNhbCBqdWRnZW1lbnQuXG4gICAgICAgIDwvcD5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJkaWFnbm9zaXMtY29udGFpbmVyIHAtM1wiPlxuICAgICAgICA8ZGl2ICpuZ0Zvcj1cImxldCBkaWFnbm9zaXMgb2YgZGlhZ25vc2lzTGlzdFwiIFxuICAgICAgICAgICAgIGNsYXNzPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtYi0yXCJcbiAgICAgICAgICAgICBbY2xhc3MuZGlzYWJsZWQtZGlhZ25vc2lzXT1cImlzRGlhZ25vc2lzRXhpc3RzKGRpYWdub3Npcy5kaWFnbm9zaXMpXCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJjdXN0b20tY2hlY2tib3ggbWUtMlwiXG4gICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwic2VsZWN0ZWREaWFnbm9zaXMuaW5jbHVkZXMoZGlhZ25vc2lzLmRpYWdub3NpcylcIlxuICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJpc0RpYWdub3Npc0V4aXN0cyhkaWFnbm9zaXMuZGlhZ25vc2lzKVwiXG4gICAgICAgICAgICAgICAgKGNoYW5nZSk9XCJvbkFJRGlhZ25vc2lzQ2hhbmdlKGRpYWdub3Npcy5kaWFnbm9zaXMpXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmdy1ib2xkXCIgW2NsYXNzLnRleHQtbXV0ZWRdPVwiaXNEaWFnbm9zaXNFeGlzdHMoZGlhZ25vc2lzLmRpYWdub3NpcylcIj5cbiAgICAgICAgICAgICAgICB7eyBkaWFnbm9zaXMuZGlhZ25vc2lzIH19XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LW11dGVkIG1zLTJcIj4obGlrZWx5IHt7IGRpYWdub3Npcy5saWtlbGlob29kIH19KTwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cInJhdGlvbmFsZS1jb250YWluZXJcIj5cbiAgICAgICAgPGg1IGNsYXNzPVwiZnctYm9sZCByYXRpb25hbGVcIj5SYXRpb25hbGU8L2g1PlxuICAgICAgICA8ZGl2ICpuZ0Zvcj1cImxldCByYXRpb25hbGUgb2YgZGlhZ25vc2lzTGlzdDsgbGV0IGkgPSBpbmRleFwiIGNsYXNzPVwicmF0aW9uYWxlLWl0ZW0gcC0zIG1iLTJcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzcz1cImZ3LWJvbGRcIj5cbiAgICAgICAgICAgICAgICB7eyBpICsgMSB9fS4ge3sgcmF0aW9uYWxlLmRpYWdub3NpcyB9fVxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1tdXRlZCBzbWFsbFwiPihsaWtlbHkge3sgcmF0aW9uYWxlLmxpa2VsaWhvb2QgfX0pPC9zcGFuPlxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwicmF0aW9uYWxlLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAge3sgcmF0aW9uYWxlLnJhdGlvbmFsZSB9fVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuPC9uZy1jb250YWluZXI+XG5cbjxkaXYgKm5nSWY9XCJjb25jbHVzaW9uXCIgY2xhc3M9XCJjb25jbHVzaW9uLWNhcmRcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY29uY2x1c2lvbi1oZWFkZXJcIj5cbiAgICAgICAgPGgyPkNvbmNsdXNpb248L2gyPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjb25jbHVzaW9uLWJvZHlcIj5cbiAgICAgICAgPHA+e3sgY29uY2x1c2lvbiB9fTwvcD5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuXG48IS0tIDxkaXY+XG4gICAgPGg2IGNsYXNzPVwiZnctYm9sZFwiPkZ1cnRoZXIgcXVlc3Rpb25zPC9oNj5cbiAgICA8ZGl2ICpuZ0Zvcj1cImxldCBxdWVzdGlvbiBvZiBxdWVzdGlvbnM7IGxldCBpID0gaW5kZXhcIiBjbGFzcz1cInJhdGlvbmFsZS1pdGVtIHAtMyBtYi0zXCI+XG4gICAgICAgIDxoNiBjbGFzcz1cImZ3LWJvbGRcIj57eyBpICsgMSB9fS4ge3sgcXVlc3Rpb24udGl0bGUgfX08L2g2PlxuICAgICAgICA8dWw+XG4gICAgICAgICAgICA8bGkgKm5nRm9yPVwibGV0IGl0ZW0gb2YgcXVlc3Rpb24uaXRlbXNcIj57eyBpdGVtIH19PC9saT5cbiAgICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbjwvZGl2PiAtLT4iXX0=